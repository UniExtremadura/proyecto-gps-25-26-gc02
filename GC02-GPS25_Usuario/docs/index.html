<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>GC02-GPS25_Usuario</h1>
<p>üöÄ <strong>Microservicio Node.js con PostgreSQL y Firebase Admin</strong></p>
<p>Este proyecto es un <strong>microservicio backend</strong> desarrollado con <strong>Node.js</strong>, conectado a una base de datos <strong>PostgreSQL</strong>, e integrado con <strong>Firebase Admin</strong> para la autenticaci√≥n.<br>
Est√° dise√±ado para ser <strong>modular, escalable y f√°cil de desplegar</strong> en entornos locales o en la nube.</p>
<hr>
<h2>üì¶ Caracter√≠sticas principales</h2>
<ul>
<li>‚ö°Ô∏è API REST construida con <strong>Express</strong></li>
<li>üêò Conexi√≥n con <strong>PostgreSQL</strong> mediante <strong>Prisma ORM</strong></li>
<li>üîí Autenticaci√≥n con <strong>Firebase Admin SDK</strong></li>
<li>‚öôÔ∏è Gesti√≥n de variables de entorno con <code>.env</code></li>
<li>üß© Arquitectura limpia con <strong>DAO</strong>, <strong>Servicios</strong> y <strong>Controladores</strong></li>
<li>üß™ Compatible con entornos <strong>Docker</strong></li>
<li>‚úÖ Transacciones y control de errores centralizado</li>
</ul>
<hr>
<h2>üß∞ Requisitos previos</h2>
<p>Antes de comenzar, aseg√∫rate de tener instalado:</p>
<ul>
<li><a href="https://nodejs.org/">Node.js</a> (v18 o superior)</li>
<li><a href="https://www.postgresql.org/download/">PostgreSQL</a></li>
<li><a href="https://git-scm.com/">Git</a></li>
<li>(Opcional) <a href="https://www.docker.com/">Docker</a> si deseas ejecutar el servicio en contenedores</li>
</ul>
<hr>
<h2>‚öôÔ∏è Configuraci√≥n del entorno</h2>
<p>El proyecto utiliza un archivo <code>.env</code> para manejar variables sensibles (como la URL de la base de datos, el puerto y las credenciales de Firebase).</p>
<blockquote>
<p>üîê <strong>El archivo <code>.env</code> no se incluye en el repositorio por seguridad.</strong></p>
</blockquote>
<p>Puedes basarte en el archivo <strong><code>.env.example</code></strong> que sirve como plantilla.<br>
Estas son las variables necesarias:</p>
<pre class="prettyprint source lang-bash"><code># Puerto donde correr√° el servidor
PORT=3000

# Cadena de conexi√≥n a PostgreSQL
DATABASE_URL=postgresql://user:password@localhost:5432/mydatabase

# Entorno de ejecuci√≥n
NODE_ENV=development

# Firebase Admin SDK
FIREBASE_PROJECT_ID=nombre-proyecto
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xyz@nombre-proyecto.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY=&quot;-----BEGIN PRIVATE KEY-----\nMIIBV...etc...\n-----END PRIVATE KEY-----\n&quot;

# URL base para fotos de usuario
BUCKUP_USER=https://example.com/perfiles/
</code></pre>
<h2>üèóÔ∏è Instalaci√≥n</h2>
<p>Clona el repositorio y entra en la carpeta del proyecto:</p>
<pre class="prettyprint source lang-bash"><code>git clone https://github.com/tuusuario/GC02-GPS25_Usuario.git
cd GC02-GPS25_Usuario
</code></pre>
<p>Instala las dependencias del proyecto con npm:</p>
<pre class="prettyprint source lang-bash"><code>npm install
</code></pre>
<h2>üß† Base de datos</h2>
<p>Aseg√∫rate de que PostgreSQL est√© corriendo y que tu .env tenga la URL correcta.
Luego genera el cliente Prisma:</p>
<pre class="prettyprint source lang-bash"><code>npx prisma generate
</code></pre>
<p>Si quieres crear las tablas seg√∫n tu esquema:</p>
<pre class="prettyprint source lang-bash"><code>npx prisma migrate dev --name init
</code></pre>
<p>Puedes inspeccionar la base de datos con:</p>
<pre class="prettyprint source lang-bash"><code>npx prisma studio
</code></pre>
<h2>üöÄ Ejecuci√≥n del servidor</h2>
<p>üîπ Modo desarrollo (con recarga autom√°tica)</p>
<pre class="prettyprint source lang-bash"><code>npm run dev
</code></pre>
<p>Usa nodemon para reiniciar el servidor autom√°ticamente al hacer cambios.</p>
<p>üîπ Modo producci√≥n</p>
<pre class="prettyprint source lang-bash"><code>npm start
</code></pre>
<p>El servidor se ejecutar√° por defecto en:</p>
<p>http://localhost:3000</p>
<h2>üß™ Pruebas r√°pidas</h2>
<p>üî∏ Obtener token de Firebase (modo script)</p>
<p>Puedes generar un token JWT v√°lido con:</p>
<pre class="prettyprint source lang-bash"><code>node script/getToken.js &lt;correo> &lt;contrase√±a>
</code></pre>
<p>Esto devuelve un token de Firebase que podr√°s usar para autenticar tus peticiones a los endpoints protegidos.</p>
<p>üî∏ Probar endpoints</p>
<p>Ejemplo de petici√≥n autenticada con cURL:</p>
<pre class="prettyprint source lang-bash"><code>curl -X POST http://localhost:3000/api/usuarios/tiene/18 \
  -H &quot;Authorization: Bearer &lt;TOKEN_AQUI>&quot; \
  -H &quot;Content-Type: application/json&quot;
</code></pre>
<h2>üìÅ Arquitectura del microservicio</h2>
<pre class="prettyprint source lang-bash"><code>src/
‚îú‚îÄ‚îÄ config/           # Configuraci√≥n de Firebase, Prisma y entorno
‚îú‚îÄ‚îÄ controllers/      # Controladores HTTP
‚îú‚îÄ‚îÄ dao/              # Acceso a datos (Prisma)
‚îú‚îÄ‚îÄ dto/              # Encapsula los datos
‚îú‚îÄ‚îÄ middlewares/      # Middlewares como verificaci√≥n de tokens
‚îú‚îÄ‚îÄ routes/           # Rutas del microservicio
‚îú‚îÄ‚îÄ services/         # L√≥gica de negocio y transacciones
‚îî‚îÄ‚îÄ server.js         # Punto de entrada de la aplicaci√≥n
</code></pre></article>
    </section>









<section>

<header>
    
        <h2>app.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Configuraci√≥n principal de la aplicaci√≥n Express.Se encarga de inicializar middlewares, cargar variables de entornoy registrar todas las rutas de la API relacionadas con usuarios.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="app.js.html">app.js</a>, <a href="app.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>config/database.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Inicializaci√≥n y exportaci√≥n del cliente Prisma para el acceso a la base de datos.Este m√≥dulo crea una √∫nica instancia de `PrismaClient` y la exporta para serreutilizada en todo el proyecto. De esta forma se evita crear m√∫ltiplesconexiones innecesarias a la base de datos y se garantiza un acceso centralizado.Prisma se encarga autom√°ticamente del manejo de conexiones,reconexiones y del pool interno.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="config_database.js.html">config/database.js</a>, <a href="config_database.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
            <h3>Example</h3>
            
    <pre class="prettyprint"><code>// Uso en un DAO o servicio(transacciones):import prisma from "../config/prisma.js";const usuarios = await prisma.usuario.findMany();</code></pre>

        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>config/firebase.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Configuraci√≥n e inicializaci√≥n del SDK de Firebase Admin usandocredenciales definidas en variables de entorno. Este m√≥dulo expone una √∫nicainstancia de Firebase Admin para ser usada en cualquier parte del proyecto.Se utiliza `firebase-admin` (SDK de servidor), no el SDK de cliente. Esto permite: - Firmar y verificar tokens JWT de Firebase. - Gestionar usuarios y autenticaci√≥n. - Acceder a servicios backend como Firestore, Realtime DB o Cloud Storage.Las credenciales se cargan desde variables de entorno para evitar exponerinformaci√≥n sensible en el repositorio. La clave privada requiere reemplazarmanualmente los saltos de l√≠nea escapados.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="config_firebase.js.html">config/firebase.js</a>, <a href="config_firebase.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
            <h3>Example</h3>
            
    <pre class="prettyprint"><code>import { firebaseAdmin } from "../config/firebase.js";const decoded = await firebaseAdmin.auth().verifyIdToken(token);</code></pre>

        
    
    </div>

    

    
        <h3 class="subsection-title">Requires</h3>

        <ul>
            <li>module:firebase-admin</li>
        
            <li>module:dotenv</li>
        </ul>
    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>controllers/artista.controller.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Controlador para la gesti√≥n de los artistas de la plataforma.Expone los endpoints definidos en la capa de rutas y delega la l√≥gica de negocioen el ArtistaService, incluyendo la transformaci√≥n de datos mediante DTOs.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_artista.controller.js.html">controllers/artista.controller.js</a>, <a href="controllers_artista.controller.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>controllers/cesta.controller.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Controlador para la gesti√≥n de la cesta de compra del usuario.Expone los endpoints definidos en la capa de rutas y delega la l√≥gica de negocio en CestaService.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_cesta.controller.js.html">controllers/cesta.controller.js</a>, <a href="controllers_cesta.controller.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>controllers/comprado.controller.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Controlador para la gesti√≥n de elementos comprados por el usuario.Expone los endpoints definidos en las rutas y delega la l√≥gica de negocio al CompradoService.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_comprado.controller.js.html">controllers/comprado.controller.js</a>, <a href="controllers_comprado.controller.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>controllers/desea.controller.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Controlador para la gesti√≥n de la lista de deseos del usuario.Se encarga de exponer los endpoints definidos en la capa de rutas y delega lal√≥gica de negocio en el DeseaService.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_desea.controller.js.html">controllers/desea.controller.js</a>, <a href="controllers_desea.controller.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>controllers/favorito.controller.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Controlador encargado de gestionar los elementos favoritos del usuario:artistas, canciones y √°lbumes. Expone los endpoints definidos en las rutas y delega lal√≥gica de negocio al FavoritoService.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_favorito.controller.js.html">controllers/favorito.controller.js</a>, <a href="controllers_favorito.controller.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>controllers/usuario.controller.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Controlador encargado de gestionar las peticiones HTTP relacionadascon usuarios. Valida y transforma par√°metros m√≠nimos y delega la l√≥gica alUsuarioService. Los errores 401/403 se manejan por middleware externo (authJWTFirebase).</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controllers_usuario.controller.js.html">controllers/usuario.controller.js</a>, <a href="controllers_usuario.controller.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>dao/artista.dao.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Acceso a datos (DAO) para gestionar la tabla `artista` y los usuariosque tienen el flag `esartista = true`.  Incluye operaciones para obtener artistas, crear uno nuevo asociado a un usuario,actualizar sus datos y eliminarlo.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dao_artista.dao.js.html">dao/artista.dao.js</a>, <a href="dao_artista.dao.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    
        <h3 class="subsection-title">Requires</h3>

        <ul>
            <li>module:../config/database.js</li>
        </ul>
    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>dao/cesta.dao.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Acceso a datos (DAO) para gestionar la tabla `usuario_cesta_elemento`,que representa la cesta de compras de los usuarios.Este m√≥dulo encapsula todas las operaciones CRUD relacionadas con la cesta:listar elementos, verificar si ya existe un elemento, a√±adir y eliminar items.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dao_cesta.dao.js.html">dao/cesta.dao.js</a>, <a href="dao_cesta.dao.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    
        <h3 class="subsection-title">Requires</h3>

        <ul>
            <li>module:../config/database.js</li>
        </ul>
    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>dao/comprado.dao.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Acceso a datos (DAO) para gestionar la tabla `usuario_tiene_elemento`,que representa los elementos comprados por los usuarios.Este m√≥dulo encapsula la l√≥gica de compra y el traspaso autom√°tico de elementosdesde la cesta a la lista de elementos obtenidos.  Se utiliza una transacci√≥n Prisma para garantizar integridad en la operaci√≥n.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dao_comprado.dao.js.html">dao/comprado.dao.js</a>, <a href="dao_comprado.dao.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    
        <h3 class="subsection-title">Requires</h3>

        <ul>
            <li>module:../config/database.js</li>
        </ul>
    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>dao/desea.dao.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Acceso a datos (DAO) para gestionar la tabla `usuario_desea_elemento`,que almacena la lista de deseos de los usuarios.Este m√≥dulo encapsula todas las operaciones CRUD relacionadas con la relaci√≥nusuario ‚Üî elemento marcado como ‚Äúdeseado‚Äù.  Utiliza la clave compuesta (idusuario, idelemento) definida en Prisma.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dao_desea.dao.js.html">dao/desea.dao.js</a>, <a href="dao_desea.dao.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    
        <h3 class="subsection-title">Requires</h3>

        <ul>
            <li>module:../config/database.js</li>
        </ul>
    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>dao/favorito.dao.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Acceso a datos para la tabla `usuario_favorito_elemento` mediante Prisma ORM.Este DAO centraliza las operaciones sobre la lista de favoritos de un usuario,proporcionando m√©todos de consulta, creaci√≥n y eliminaci√≥n.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dao_favorito.dao.js.html">dao/favorito.dao.js</a>, <a href="dao_favorito.dao.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    
        <h3 class="subsection-title">Requires</h3>

        <ul>
            <li>module:../config/database.js</li>
        </ul>
    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>dao/usuario.dao.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Acceso a datos del modelo `Usuario` mediante Prisma ORM.Este DAO encapsula todas las operaciones CRUD relacionadas con usuarios,aislando la capa de datos del resto de la aplicaci√≥n.  Soporta ejecuci√≥n dentro y fuera de transacciones mediante el par√°metro `tx`.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dao_usuario.dao.js.html">dao/usuario.dao.js</a>, <a href="dao_usuario.dao.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    
        <h3 class="subsection-title">Requires</h3>

        <ul>
            <li>module:../config/database.js</li>
        </ul>
    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>dto/artista.dto.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">DTO para representar un artista, extendiendo UsuarioDTO.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dto_artista.dto.js.html">dto/artista.dto.js</a>, <a href="dto_artista.dto.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>dto/cesta.dto.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">DTOs para representar la cesta del usuario y los elementos dentro de ella.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dto_cesta.dto.js.html">dto/cesta.dto.js</a>, <a href="dto_cesta.dto.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>dto/elemento.dto.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Data Transfer Object para representar un Elemento.Este DTO sirve para transportar datos sin exponer directamentela entidad interna manejada por Prisma o la base de datos.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dto_elemento.dto.js.html">dto/elemento.dto.js</a>, <a href="dto_elemento.dto.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>dto/errorResponse.dto.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">DTO est√°ndar para respuestas de error en la API.Se utiliza para devolver errores homog√©neos desde controladores y servicios.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dto_errorResponse.dto.js.html">dto/errorResponse.dto.js</a>, <a href="dto_errorResponse.dto.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>dto/genero.dto.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">DTO que representa un g√©nero musical dentro del sistema(por ejemplo: Rock, Pop, Trap, Jazz, etc).</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dto_genero.dto.js.html">dto/genero.dto.js</a>, <a href="dto_genero.dto.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>dto/relacion.dto.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">DTOs que representan relaciones entre usuarios y elementos:lista de deseos, favoritos, comprados y cesta.Incluye una clase base para evitar duplicaci√≥n y asegurar coherencia.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dto_relacion.dto.js.html">dto/relacion.dto.js</a>, <a href="dto_relacion.dto.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>dto/usuario.dto.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">DTOs para representar usuarios en diferentes contextos:- `UsuarioDTO`: informaci√≥n completa del usuario (incluye datos privados como la contrase√±a).- `UsuarioPublicDTO`: versi√≥n p√∫blica del usuario sin datos sensibles.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dto_usuario.dto.js.html">dto/usuario.dto.js</a>, <a href="dto_usuario.dto.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>middlewares/authJWTFirebase.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Middleware para validar tokens JWT emitidos por Firebase.Verifica el token, decodifica el usuario y asegura que el ID del token coincidacon el ID recibido en la URL o en el body (si aplica).</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="middlewares_authJWTFirebase.js.html">middlewares/authJWTFirebase.js</a>, <a href="middlewares_authJWTFirebase.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>routes/artista.routes.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Define las rutas relacionadas con los artistas dentro de la API.Estas rutas permiten obtener la lista completa de artistas y consultar un artista espec√≠fico.Endpoints:  GET /api/usuarios/artistas        ‚Üí Obtener todos los artistas  GET /api/usuarios/artistas/:id    ‚Üí Obtener un artista por ID</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="routes_artista.routes.js.html">routes/artista.routes.js</a>, <a href="routes_artista.routes.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>routes/cesta.routes.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Define las rutas relacionadas con la cesta del usuario.Todas las rutas requieren autenticaci√≥n mediante Firebase JWT.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="routes_cesta.routes.js.html">routes/cesta.routes.js</a>, <a href="routes_cesta.routes.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>routes/comprado.routes.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Define las rutas relacionadas con los elementos comprados por el usuario.Todas las rutas requieren autenticaci√≥n mediante Firebase JWT.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="routes_comprado.routes.js.html">routes/comprado.routes.js</a>, <a href="routes_comprado.routes.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>routes/desea.routes.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Define las rutas relacionadas con la lista de deseos del usuario.Todas las rutas requieren autenticaci√≥n mediante Firebase JWT.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="routes_desea.routes.js.html">routes/desea.routes.js</a>, <a href="routes_desea.routes.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>routes/favorito.routes.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Define las rutas relacionadas con los favoritos del usuario.Todas las rutas requieren autenticaci√≥n mediante Firebase JWT.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="routes_favorito.routes.js.html">routes/favorito.routes.js</a>, <a href="routes_favorito.routes.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>routes/usuario.routes.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Define las rutas relacionadas con la gesti√≥n de usuarios.Algunas rutas requieren autenticaci√≥n mediante Firebase JWT.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="routes_usuario.routes.js.html">routes/usuario.routes.js</a>, <a href="routes_usuario.routes.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>server.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Punto de entrada principal del servidor. Se encarga de iniciar la aplicaci√≥n Express y escuchar peticiones en el puerto definido en las variables de entorno o el puerto 3000 por defecto.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="server.js.html">server.js</a>, <a href="server.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>services/artista.service.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">L√≥gica de negocio relacionada con artistas.Obtiene informaci√≥n desde la base de datos a trav√©s del DAO,enriquece los datos consultando el servicio de contenidos(g√©neros musicales) y retorna DTOs preparados para la capa de control.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="services_artista.service.js.html">services/artista.service.js</a>, <a href="services_artista.service.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>services/cesta.service.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">L√≥gica de negocio relacionada con la cesta del usuario.Gestiona consultas, inserciones, verificaciones y eliminaciones de elementos en la cesta.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="services_cesta.service.js.html">services/cesta.service.js</a>, <a href="services_cesta.service.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>services/comprado.service.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">L√≥gica de negocio relacionada con los elementos comprados del usuario.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="services_comprado.service.js.html">services/comprado.service.js</a>, <a href="services_comprado.service.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>services/desea.service.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">L√≥gica de negocio relacionada con artistas.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="services_desea.service.js.html">services/desea.service.js</a>, <a href="services_desea.service.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>services/favorito.service.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">L√≥gica de negocio relacionada con los elementos favoritos del usuario.Soporta artistas, canciones y √°lbumes.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="services_favorito.service.js.html">services/favorito.service.js</a>, <a href="services_favorito.service.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>services/usuario.service.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">L√≥gica de negocio para usuarios: listar, crear, obtener,actualizar y eliminar. Interact√∫a con DAOs, Firebase y APIs externas.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="services_usuario.service.js.html">services/usuario.service.js</a>, <a href="services_usuario.service.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="ArtistaDAO.html">ArtistaDAO</a></li><li><a href="CestaDAO.html">CestaDAO</a></li><li><a href="CompradoDAO.html">CompradoDAO</a></li><li><a href="DeseaDAO.html">DeseaDAO</a></li><li><a href="FavoritoDAO.html">FavoritoDAO</a></li><li><a href="UsuarioDAO.html">UsuarioDAO</a></li></ul><h3>Classes</h3><ul><li><a href="ArtistaDTO.html">ArtistaDTO</a></li><li><a href="CestaDTO.html">CestaDTO</a></li><li><a href="CestaItemDTO.html">CestaItemDTO</a></li><li><a href="ElementoDTO.html">ElementoDTO</a></li><li><a href="ErrorResponseDTO.html">ErrorResponseDTO</a></li><li><a href="GeneroDTO.html">GeneroDTO</a></li><li><a href="RelacionBaseDTO.html">RelacionBaseDTO</a></li><li><a href="UsuarioCestaElementoDTO.html">UsuarioCestaElementoDTO</a></li><li><a href="UsuarioDTO.html">UsuarioDTO</a></li><li><a href="UsuarioDeseaElementoDTO.html">UsuarioDeseaElementoDTO</a></li><li><a href="UsuarioFavoritoElementoDTO.html">UsuarioFavoritoElementoDTO</a></li><li><a href="UsuarioPublicDTO.html">UsuarioPublicDTO</a></li><li><a href="UsuarioTieneElementoDTO.html">UsuarioTieneElementoDTO</a></li></ul><h3>Global</h3><ul><li><a href="global.html#createComprados">createComprados</a></li><li><a href="global.html#createDeseado">createDeseado</a></li><li><a href="global.html#createFavorito">createFavorito</a></li><li><a href="global.html#createItemCesta">createItemCesta</a></li><li><a href="global.html#createUsuario">createUsuario</a></li><li><a href="global.html#deleteArt">deleteArt</a></li><li><a href="global.html#deleteCont">deleteCont</a></li><li><a href="global.html#deleteDeseado">deleteDeseado</a></li><li><a href="global.html#deleteItemCesta">deleteItemCesta</a></li><li><a href="global.html#deleteUsuario">deleteUsuario</a></li><li><a href="global.html#existArt">existArt</a></li><li><a href="global.html#existComprado">existComprado</a></li><li><a href="global.html#existCont">existCont</a></li><li><a href="global.html#existDeseado">existDeseado</a></li><li><a href="global.html#existItemCesta">existItemCesta</a></li><li><a href="global.html#exitComprado">exitComprado</a></li><li><a href="global.html#getArtistaById">getArtistaById</a></li><li><a href="global.html#getArtistas">getArtistas</a></li><li><a href="global.html#getCestaByUser">getCestaByUser</a></li><li><a href="global.html#getCompradosByIdUsuario">getCompradosByIdUsuario</a></li><li><a href="global.html#getDeseadosByUser">getDeseadosByUser</a></li><li><a href="global.html#getFavoritosByUser">getFavoritosByUser</a></li><li><a href="global.html#getLogin">getLogin</a></li><li><a href="global.html#getLogout">getLogout</a></li><li><a href="global.html#getUsuarioPubliById">getUsuarioPubliById</a></li><li><a href="global.html#getUsuarios">getUsuarios</a></li><li><a href="global.html#getUsuariosPubli">getUsuariosPubli</a></li><li><a href="global.html#listarUsuarios">listarUsuarios</a></li><li><a href="global.html#listarUsuariosPubli">listarUsuariosPubli</a></li><li><a href="global.html#listen">listen</a></li><li><a href="global.html#logout">logout</a></li><li><a href="global.html#obtenerUsuario">obtenerUsuario</a></li><li><a href="global.html#obtenerUsuarioPubli">obtenerUsuarioPubli</a></li><li><a href="global.html#separarDataUsuarioArtista">separarDataUsuarioArtista</a></li><li><a href="global.html#updateUsuario">updateUsuario</a></li><li><a href="global.html#verifyFirebaseToken">verifyFirebaseToken</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.5</a> on Thu Nov 20 2025 11:31:06 GMT+0100 (hora est√°ndar de Europa central)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>